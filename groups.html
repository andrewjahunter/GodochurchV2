<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>



    <script type="text/javascript">
        window.location.href = "index.html";
    </script>
</head>
<body>
    <div data-role="page" id="pg_groups" data-theme="b" data-bind="with:pages.groups.view">



        <!--<div class="pgContent">-->



        <div data-role="header">
            <a href="#" class="ui-btn ui-btn-a ui-btn-left ui-icon-delete ui-btn-icon-notext grpView grpEdit1 grpEdit2 grpEdit3 grpEdit4 grpEditCancel" style="display:none"></a>
            <a href="#" class="ui-btn ui-btn-a ui-btn-left ui-icon-arrow-d ui-btn-icon-notext grpView grpMembers grpMembersDone" style="display:none"></a>

            <a href="#" class="ui-btn ui-btn-a ui-btn-left ui-icon-arrow-l ui-btn-icon-notext grpView grpList btnBackToPrevPage"></a>
            <a href="#" class="ui-btn ui-btn-a ui-btn-right ui-icon-bars ui-btn-icon-notext grpView grpList grpMembers btnOpenAppMenu"></a>

            <h1 id="grpHeaderText">Groups</h1>

        </div>

        <div role="main" class="ui-content">

            <div class="grpView grpList" data-bind="foreach:groups">
               
                    <div class="ui-bar ui-bar-b" data-bind="visible:isActive" style="text-align:center">
                        <h3>    
                            <span >
                                <a href="#" class=" ui-btn-left ui-icon-carat-d ui-btn-icon-notext groupMenu" data-bind="attr:{'data-id':id}"></a>
                            </span>
                            <span data-bind="html:groupName"></span>
                            <span>
                                <a href="#" class=" ui-btn-right ui-icon-edit ui-btn-icon-notext groupEdit" data-bind="attr:{'data-id':id}"></a>
                            </span>
                        </h3>
                    </div>
                    <div class="ui-bar ui-bar-f" data-bind="visible:!isActive" style="text-align:center">
                        <h3>
                            <span>
                                <a href="#" class=" ui-btn-left ui-icon-carat-d ui-btn-icon-notext groupMenu" data-bind="attr:{'data-id':id}"></a>
                            </span>
                            <span data-bind="html:groupName"></span>
                            <span>
                                <a href="#" class=" ui-btn-right ui-icon-edit ui-btn-icon-notext groupEdit" data-bind="attr:{'data-id':id}"></a>
                            </span>
                        </h3>
                    </div>
                    <div class=" ui-body-a ui-body-g">
                        <table style="font-size:small">
                            <tr>
                                <td>Category: </td>
                                <td data-bind="text:categoryName"></td>
                            </tr>
                            <tr>
                                <td>Category: </td>
                                <td data-bind="text:categoryName"></td>
                            </tr>
                            <tr>
                                <td>Day: </td>
                                <td data-bind="text:meetingDay"></td>
                            </tr>
                        </table>
                    </div>
                   
                    
               


            </div>


            <div class="grpView grpEdit1" style="display:none">

                <div class="ui-field-contain" id="txtGroupName">
                    <div>
                        <label for="txtSmallGroupName">
                            Group Name
                        </label>
                    </div>
                    <input id="txtSmallGroupName" data-clear-btn="true" data-bind="value: selectedGroup.groupName" name="groupname" placeholder="enter group name" type="text" />
                </div>

                <div class="ui-field-contain">
                    <div>
                        <label for="txtSmallGroupDescription">
                            Describe the group briefly
                        </label>
                    </div>
                    <input id="txtSmallGroupDescription" data-clear-btn="true" data-bind="value: selectedGroup.groupDescription" name="groupdescription" placeholder="brief description..." type="text" />
                </div>

                <div class="ui-field-contain">
                    <div>
                        <label for="ddlGrpCatType">
                            Group type
                        </label>
                    </div>
                    <select id="ddlGrpCatType" name="" data-bind="options: refData.typesAllowed,optionsText: 'name', optionsValue: 'typeId'"></select>

                </div>

                <div class="ui-field-contain">
                    <div>
                        <label for="ddlRegion">
                            <span data-bind="html:$root.labels[2000]"></span>
                        </label>
                    </div>
                    <select id="ddlRegion" name="" data-bind="options: refData.regions, value:selectedGroup.regionId, optionsText: 'name', optionsValue: 'id'"></select>

                </div>

                <div class="ui-field-contain">
                    <div>
                        <label for="ddlAgeProfile">
                            What is groups age profile?
                        </label>
                    </div>
                    <select id="ddlAgeProfile" name="" data-bind="options: refData.ageProfiles, value:selectedGroup.ageProfileId, optionsText: 'name', optionsValue: 'id'"></select>

                </div>

                <div class="ui-field-contain">
                    <div>
                        <label for="ddlFrequency">
                            How often does the group meet?
                        </label>
                    </div>
                    <select id="ddlFrequency" name="" data-bind="options: refData.groupMeetingFrequencies, value:selectedGroup.meetingFrequency"></select>

                </div>

            </div>


            <div class="grpView grpEdit2" style="display:none">

                <div class="ui-field-contain">
                    <div>
                        <label for="ddlMeetingDay">
                            What day does group meet on?
                        </label>
                    </div>
                    <select id="ddlMeetingDay" name="" data-bind="value:selectedGroup.meetingDay">
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Saturday">Saturday</option>
                        <option value="Sunday">Sunday</option>
                        <option value="Unknown">Unknown</option>
                    </select>

                </div>

                <div class="ui-field-contain">
                    <div>
                        <label for="ddlGender">
                            What is groups gender?
                        </label>
                    </div>
                    <select id="ddlGender" name="" data-bind="value:selectedGroup.gender">
                        <option value="M/F">Male/Female</option>
                        <option value="M">Male</option>
                        <option value="F">Female</option>
                    </select>

                </div>

                <div class="ui-field-contain">
                    <div>
                        <label for="txtMeetingTime">
                            What time does group meet?
                        </label>
                    </div>
                    <input id="txtMeetingTime" data-clear-btn="true" data-bind="value: selectedGroup.meetingTime" placeholder="meeting time" type="time" />
                </div>

                <div class="ui-field-contain">
                    <label>
                        <input type="checkbox" data-bind="checked:selectedGroup.isPrivate" />
                        This group is private
                    </label>
                    <div><small>(If checked this group will be not show up in search results)</small></div>
                </div>

                <div class="ui-field-contain">
                    <label>
                        <input type="checkbox" data-bind="checked:selectedGroup.openMembership" />

                        This groups membership is open
                    </label>
                    <div><small>(If checked then people will be able to add themselves as members to this group.)</small></div>

                </div>


            </div>

            <div class="grpView grpEdit3" style="display:none">
              

                <div id="grpEditShowStreetInfo">
                    <div class="ui-field-contain">
                        <div><label for="txtGrpsEditStreetNumber">Street Number (OPTIONAL):</label></div>
                        <input id="txtGrpsEditStreetNumber" data-clear-btn="true" data-bind="value: selectedGroup.streetNumber" type="text" />

                    </div>

                    <div class="ui-field-contain">
                        <div> <label for="txtGrpsEditStreetName">Street Name (OPTIONAL):</label></div>
                        <input id="txtGrpsEditStreetName" data-clear-btn="true" data-bind="value: selectedGroup.streetName" type="text" />

                    </div>
                </div>

                <div id="grpEditHideStreetInfo" class="ui-content ui-bar-g" style="font-size:small">
                    As a church we have chosen, for security reasons, not to allow street info to be stored for groups. Use the 'Other Info'
                    option below provide more info about the group location if you like.

                </div>


                <div id="grpEditSuburb" style="display:none">
                    <div data-role="fieldcontain">
                        <div><label for="txtGrpsEditSuburb">Group Suburb</label></div>
                        <input id="txtGrpsEditSuburb" data-bind="value: selectedGroup.suburb" type="text" />

                    </div>
                    <small>(The Google map was not able to determine the suburb where this group meets. Please manually enter it here)</small>
                </div>



                <div class="ui-field-contain">
                    <div><label for="txtGrpsEditOtherInfo">Other Info:</label></div>
                    <input id="txtGrpsEditOtherInfo" data-clear-btn="true" data-bind="value: selectedGroup.otherInfo" type="text" />
                    <small>(Enter any extra info about the meeting location of this group. E.g. Room number)</small>

                </div>


            </div>

            <div class="grpView grpEdit4" style="display:none">
               

                <table border="1" width="100%"   style="font-size:small">
                    <tr>
                        <td>Group Name:</td>
                        <td>
                            <div data-bind="html:selectedGroup.groupName"></div>
                        </td>

                    </tr>
                    <tr>
                        <td>Gender:</td>
                        <td>
                            <div data-bind="html:selectedGroup.gender"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Category:</td>
                        <td>
                            <div data-bind="html:selectedGroup.categoryName() + '(' + selectedGroup.categoryId() + ')'"></div>
                        </td>

                    </tr>
                    <tr>
                        <td>Group Type:</td>
                        <td>
                            <div data-bind="html:selectedGroup.groupType() + '(' + selectedGroup.groupTypeId() + ')'"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Suburb:</td>
                        <td>
                            <div data-bind="html:selectedGroup.suburb"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Meeting Time:</td>
                        <td>
                            <div data-bind="html:selectedGroup.meetingTime"></div>
                        </td>

                    </tr>
                    <tr>
                        <td>Meeting Day:</td>
                        <td>
                            <div data-bind="html:selectedGroup.meetingDay"></div>
                        </td>
                    </tr>

                    <tr>
                        <td>Latitude:</td>
                        <td>
                            <div data-bind="html:selectedGroup.geoLat"></div>
                        </td>

                    </tr>
                    <tr>
                        <td>Longitude:</td>
                        <td>
                            <div data-bind="html:selectedGroup.geoLng"></div>
                        </td>

                    </tr>
                    <tr>
                        <td>Open Membership:</td>
                        <td>
                            <div data-bind="html:selectedGroup.openMembership"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Active:</td>
                        <td>
                            <div data-bind="html:selectedGroup.isActive"></div>
                        </td>

                    </tr>
                    <tr>
                        <td>De-Active Reason:</td>
                        <td>
                            <div data-bind="html:'Reason: ' + selectedGroup.stsReason() + '(id:' + selectedGroup.stsReasonId() + ')'"></div>
                        </td>
                    </tr>

                </table>

            </div>

            <div class="grpView grpMemDeActivate" style="display:none" >

                <div class="ui-bar ui-bar-g">
                    <div style="text-align:center">De-Activate Member</div>
                </div>
                <div class="ui-content ui-body-g">Please provide a reason why you are removing this person from the group</div>
                <div class="ui-field-contain">
                    <label for="ddlGrpMemDeActiveReason">
                        Reason
                    </label>
                    <select id="ddlGrpMemDeActiveReason" data-bind="options: refData.groupMembersInActiveReasons, optionsText:'reason',optionsValue:'id'"></select>
                </div>
                <div class="ui-field-contain">
                    <label for="grpMemDeActivateMoreInfo">
                        More Info
                    </label>
                    <input id="grpMemDeActivateMoreInfo" data-clear-btn="true" placeholder="More info" type="text" />
                </div>
                <div class="ui-grid-a">
                    <div class="ui-block-a"><button class="ui-btn ui-btn-b" id="btnGrpDeActivateMemGo">De-Activate</button></div>
                    <div class="ui-block-b"><button class="ui-btn ui-btn-b" id="btnGrpDeActivateMemCancel">Cancel</button></div>
                </div>

                
                <button class="ui-btn ui-btn-e" id="btnDeleteMemberForever">Delete Member</button>

                <div data-role="popup" id="memberDeletePopup" style="max-width: 400px;"
                     class="ui-corner-all">
                    <div data-role="header" data-theme="e" class="ui-corner-top">
                        <h1>Delete?</h1>

                    </div>
                    <div class="ui-corner-bottom ui-content ui-body-a">
                        <div class="ui-title" style="text-align: center; font-size: larger" data-bind="html:selectedGroupMember.displayName"></div>

                        <p>
                            Are you sure you want to delete this member from the group? All data relating to this member will be lost forever?
                        </p>
                        <a href="#" class="ui-btn ui-btn-e ui-btn-inline" data-inline="true" id="btnMemberConfirmDelete">Delete</a>
                        <a href="#" class="ui-btn ui-btn-b ui-btn-inline" data-rel="back" data-inline="true">Cancel</a>
                       
                    </div>
                </div>


            </div>

                <div class="grpView grpMembers" style="display:none" data-bind="foreach:selectedGroup.members">

                    <div class="ui-bar ui-bar-b" data-bind="visible:isActive" style="text-align:center">
                        <h3>
                            <span>
                                <a href="#" class=" ui-btn-right ui-icon-delete ui-btn-icon-notext memberDelete" data-bind="attr:{'data-id':id}"></a>
                            </span>
                            <span data-bind="html:displayName"></span>
                        </h3>
                    </div>
                    <div class="ui-bar ui-bar-f" data-bind="visible:!isActive" style="text-align:center">
                        <h3>
                            <span>
                                <a href="#" class=" ui-btn-right ui-icon-check ui-btn-icon-notext memberActivate" data-bind="attr:{'data-id':id}"></a>
                            </span>
                            <span data-bind="html:displayName"></span>
                        </h3>
                    </div>
                    <div class=" ui-body-a ui-body-g">
                        <table>
                            <tr>
                                <td>Email: </td>
                                <td data-bind="text:email"></td>
                            </tr>
                            <tr>
                                <td>Mobile: </td>
                                <td data-bind="text:mobileNumber"></td>
                            </tr>
                            <tr>
                                <td>Birthday: </td>
                                <td data-bind="text:birthday"></td>
                            </tr>
                        </table>
                    </div>


                 
                </div>



                <div data-role="popup" id="popupGrpMenu" data-theme="a">
                    <ul data-role="listview" class="ui-mini" data-inset="true" style="min-width:210px;">
                        <li><a href="#" id="btnGrpDeActivate">De-Activate (CLIP TEST)</a></li>
                        <li><a href="#" id="btnGrpSendMessage">Send Message (Test One)</a></li>
                        <li><a href="#" id="btnGrpSendMessage2">Send Message (Test Three)</a></li>
                        <li><a href="#" id="btnGrpViewMembers">View Members</a></li>
                        <li><a href="#" id="btnGrpAttendance">Attendance (EXPLODE TEST)</a></li>

                    </ul>
                </div>


            <div data-role="popup"  id="popupGrpMore" data-theme="a">
                <ul data-role="listview" class="ui-mini" data-inset="true" style="min-width:210px;">
                    <li><a href="#" id="btnRefreshGroups2">Refresh Groups</a></li>
                    <li><a href="#" id="btnRefreshGrpRefData">Refresh Core</a></li>
                </ul>
            </div>

            </div>

        <div data-role="footer" data-theme="g" data-tap-toggle="false" style="overflow:hidden;" data-position="fixed">
            <div data-role="navbar" class="grpView grpList">
                <ul>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-gear" id="btnShowGrpMore"><small>More...</small></div></li>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-refresh " id="btnRefreshGroups1"><small>Refresh</small></div></li>
                    <li><div class="ui-btn ui-btn-c ui-btn-icon-top ui-icon-plus btnAddNewGroup "><small>Add</small></div></li>
                </ul>
            </div>

            <div data-role="navbar" class="grpView grpMembers" style="display:none">
                <ul>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-gear" id="btnShowGrpMemMore"><small>More...</small></div></li>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-refresh " id="btnRefreshGrpMembers"><small>Refresh</small></div></li>
                    <li><div class="ui-btn ui-btn-c ui-btn-icon-top ui-icon-plus btnAddNewMember"><small>Add Member</small></div></li>
                </ul>
            </div>

            <div data-role="navbar" class="grpView grpEdit1" style="display:none">
                <ul>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-arrow-l  grpEdit1Back"><small>Back</small></div></li>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-arrow-r  grpEdit1Next" ><small>Next</small></div></li>
                </ul>
            </div>

            <div data-role="navbar" class="grpView grpEdit2" style="display:none">
                <ul>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-arrow-l  grpEdit2Back"><small>Back</small></div></li>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-arrow-rr  grpEdit2GoTo4" ><small>Skip Location</small></div></li>

                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-arrow-r  grpEdit2Next"><small>Edit Location</small></div></li>
                </ul>
            </div>

            <div data-role="navbar" class="grpView grpEdit3" style="display:none">
                <ul>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-arrow-l  grpEdit3Back"><small>Back</small></div></li>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-arrow-r  grpEdit3Next"><small>Next</small></div></li>
                </ul>
            </div>

            <div data-role="navbar" class="grpView grpEdit4" style="display:none">
                <ul>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-arrow-l  grpEdit4Back"><small>Back</small></div></li>
                    <li><div class="ui-btn ui-btn-g ui-btn-icon-top ui-icon-save  " id="grpEdit4Save"><small>Save</small></div></li>
                </ul>
            </div>
        </div>
    </div>




    <!--</div>-->
</body>
</html>
